---
title: "Airbnb Project"
subtitle: "Charlene BRUNO, Loic CHANG, Pierre PHILBERT, SORY Anas"
output: ioslides_presentation

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Introduction 

  <img src=".\img\intro.PNG"  
  style = "display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%; " />
  
<h3> A project to get threw Airbnb's dataset and visualize. </h3>
  
We are a team of Four student at ECE - CHEONG Loic, BRUNO Charlene, PHILBERT Pierre and SORY Anas.  
We present here our exploratory data analysis, visualizations, interactive plots of the Airbnb data.



## Project objectif 

 * The aim of the project is to optimize the price of houses listing relatively to : 
  - Room Type 
  -Number of bedrooms
  -Neighborhood 
 
## Preprocess Explanation

First of all, we had to load a .csv file which contains a list of URLS under the following form : 
```R
http://data.insideairbnb.com/country/region/city/date/data/listings.csv.gz
```
  <img src=".\img\listing_data.PNG" style = "display: block;
  margin-left: auto;
  margin-right: auto;" />
  
## 

* The next step is to remove from URLS the countries that aren't important in our analysis.    
   
* To do that, we have to retrieve the country name from the URLS then apply a filter to get only what we want.  
A simple way to do that is to split the URLS by "/" then put the country name into a vector

```R
#We split the url to add columns to filter later
url_decomposed <- str_split(urls_data$listings_data_url,"/",
                            simplify = TRUE)
  
urls_data$country <- url_decomposed[,4]
urls_data$city <- url_decomposed[,6]
urls_data$date <- url_decomposed[,7]
  
```

## 
 
* Bring some modifications to downloaded data
```R
## clean price column and transform to numeric
listings$price <- as.numeric(str_remove(listings$price,"[$]"))
listings$price[is.na(listings$price)]<-0
listings$availability_30 <- as.numeric(listings$availability_30)
listings$availability_30[is.na(listings$availability_30)]<-30
listings$revenue_30 <- listings$price *(30-listings$availability_30)
```
* Then, we save everything in csv files to corresponding directories
```R
#write the cleansed data in csv
dir.create(file.path("data_cleansed",country, city, date), 
            recursive = TRUE)
write.csv(listings, 
    file.path("data_cleansed", country,city, date, "listings.csv"))
print(paste0("saving data into ", 
    file.path("data_cleansed", country,city,date, "listings.csv")))
```

## Reading Data 

```R
# # Read data in cities between min_date and max_date
for(country in countries){
  file_dir <- file.path(".", "data_cleansed", country)
  file_subdirs_cities <- list.dirs(file_dir,recursive=FALSE)
  
  for(file_subdir_city in file_subdirs_cities){
    file_subdirs_dates <- list.dirs(file_subdir_city,recursive=FALSE)
    files_paths <- c(files_paths, file_subdirs_dates)
  }
}
```

## App architechture explanation
 The application aims to visualize the airbnb data 


## Tab 1 Explanation 

 <img src=".\img\tab1.PNG" style = "display: block;
  placement : center;
  height :100%;
  width: 90%" />

## Tab 2 Explanation

<img src=".\img\tab2.PNG" style = "display: block;
  placement : center;
  height :100%;
  width: 90%" />

## Share with rshinny 



## Conclusion
To conclude,the application made with the technologies we learnt in class allowed us to
succeed in our project.  
Just like any technology, we tried to make a benefit from its strengths and avoid its weaknesses  
We got :   
- A magnificient user interface  
- Intuitive Interactions to get relevant data  

But since The dataset provides us with a ton of data,   
- Data had been a bit slow to be shown   
- Our implementation could be optimized   

## Slide with R Output

```{r cars, echo = TRUE}
summary(cars)
```

## Slide with Plot

```{r pressure}
plot(pressure)
```

